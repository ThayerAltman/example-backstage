---
- id: CatalogFact
  name: Catalog Fact Collector Program
  ownerEntityRef: group:default/example-owner
  description: >
    Uses GitHub Fact Collector to dervie facts.
  documentationURL: https://github.com/ThayerAltman/example-backstage/blob/main/README.md
  levels:
    - ordinal: 1
      checks:
        - id: has_required_tags
          name: Repo has a required labels
          description: >
            Indicates whether your service is labelled correctly.
- id: GitHubIntegration
  name: GitHub Fact Collector Program
  ownerEntityRef: group:default/example-owner
  description: >
    Uses GitHub Fact Collector to dervie facts.
  documentationURL: https://github.com/ThayerAltman/example-backstage/blob/main/README.md
  levels:
    - ordinal: 1
      checks:
        - id: is_repo_private
          name: The GitHub repo is private
          description: >
            All repos need to private.
        - id: default_branch_is_main
          name: The default branch is main
          description: >
            Default branches should be named main
    - ordinal: 2
      checks:
        - id: has_less_than_ten_open_issues
          name: Less than 10 open issues
          description: >
            The service should have less than 10 open issues
- id: SCMIntegration
  name: SCM Fact Collector Program
  ownerEntityRef: group:default/example-owner
  description: >
    Uses SCM Fact Collector to dervie facts.
  documentationURL: https://github.com/ThayerAltman/example-backstage/blob/main/README.md
  levels:
    - ordinal: 1
      checks:
        - id: has_readme_check
          name: Readme exists
          description: >
            Indicates whether there is a readme in the repo.
        - id: has_catalog_info_file_check
          name: Catalog-info exists
          description: >
            Indicates the repo containsa a catalog-info.yaml.
        - id: python_service_runs_tests
          name: The python service runs pytest
          description: >
            This service is currently running pytest as part of its GitHub actions workflow as defined in the build.yaml
          filter:
            catalog:
              metadata.tags: python
- id: CustomFactCollector
  name: Custom Fact Collector Program
  ownerEntityRef: group:default/example-owner
  description: >
    Less branches is better
  documentationURL: https://www.backstage.io
  levels:
    - ordinal: 1
      checks:
        - id: less_than_4_branches
          name: Less Than 4 branches
          description: >
            Indicates whether the Entity has less than 4 branches
    - ordinal: 2
      checks:
        - id: less_than_3_branches
          name: Less Than 3 branches
          description: >
            Indicates whether the Entity has less than 3 branches